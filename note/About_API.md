# API란?
API (Application Programming Interface) 는 두 프로그램 간의 인터페이스.<br>
즉, 소프트웨어끼리 서로 정보를 주고받는 약속된 통신 방식

### 식당으로 비유하자면
| 구성 요소                  | 역할                           |
| ---------------------- | ---------------------------- |
| **손님** (사용자, 브라우저)     | 요청을 보냄                       |
| **웨이터** (API 서버)       | 요청을 받아 주방에 전달하고, 응답을 손님에게 전달 |
| **주방** (비즈니스 로직, 모델 등) | 요청을 처리하고 결과 생성               |
<br> 

우리가 서버에 요청하면, API는 그 요청을 정리해서 내부 프로그램(모델, DB 등)에 전달하고,<br> 결과를 다시 응답으로 돌려주는 것이라고 생각하면 될듯


### HTTP 기반 API (REST API)
FastAPI는 보통 REST API 스타일을 따름

| HTTP 메서드 | 의미        | 예시             |
| -------- | --------- | -------------- |
| GET      | 데이터 조회    | 사용자 목록 보기      |
| POST     | 데이터 생성    | 회원가입           |
| PUT      | 데이터 전체 수정 | 사용자 정보 전체 업데이트 |
| PATCH    | 데이터 일부 수정 | 비밀번호만 변경       |
| DELETE   | 데이터 삭제    | 사용자 탈퇴         |


### 요청과 응답 구조
- 요청 예시 (클라이언트 → 서버)
```
GET /hello HTTP/1.1
Host: localhost:8000
User-Agent: Mozilla/5.0
Accept: application/json
```
#### 주요 요소에 대한 설명
| 요소             | 설명                               |
| -------------- | -------------------------------- |
| **GET**        | HTTP 메서드 (요청의 목적: 조회)            |
| **/hello**     | 요청 URL 경로 (라우트라고도 부름)            |
| **HTTP/1.1**   | 사용 중인 HTTP 프로토콜 버전               |
| **Host**       | 요청 대상 서버 주소 (여기선 localhost:8000) |
| **User-Agent** | 클라이언트 정보 (브라우저, 앱 등)             |
| **Accept**     | 클라이언트가 원하는 응답 형식 (예: JSON)       |

- 위와 같은 내용으로 서버에 요청을 함
- 브라우저에서 http://localhost:8000/hello 로 접속하면 위와 비슷한 요청이 서버에 전송

---
<br>
- 응답 예시 (서버 → 클라이언트)

```http 
HTTP/1.1 200 OK
Content-Type: application/json

# 응답하는 내용
{
  "message": "Hello, FastAPI!"
}
```
### 주요  요소에 대한 설명
| 요소               | 설명                                        |
| ---------------- | ----------------------------------------- |
| **HTTP/1.1**     | 응답 프로토콜 버전                                |
| **200 OK**       | 상태 코드 + 설명 (성공적으로 처리됨)                    |
| **Content-Type** | 응답 데이터의 형식 (여기선 JSON)                     |
| **본문 (Body)**    | 실제 데이터 (`{"message": "Hello, FastAPI!"}`) |

- 클라이언트는 “/hello 경로에 GET 요청”을 보내고, 서버는 “OK! 여기 메시지야!”라고 JSON 형식으로 응답


## REST란?
REST(Representational State Transfer)는 자원을 URL로 표현하고, HTTP 메서드로 자원에 대한 동작을 정의하는 아키텍처 스타일

### REST API 구성요소
| 구성 요소                   | 예시                             | 설명                 |
| ----------------------- | ------------------------------ | ------------------ |
| **자원 (Resource)**       | `/users`                       | 대상 데이터 (사람, 게시글 등) |
| **행위 (Method)**         | `GET`, `POST`, `PUT`, `DELETE` | 데이터에 대해 무슨 행동을 할지  |
| **표현 (Representation)** | JSON                           | 자원의 데이터 표현 방식      |

### REST API 예시
| HTTP 메서드 | URL        | 의미              |
| -------- | ---------- | --------------- |
| `GET`    | `/users`   | 사용자 전체 목록 조회    |
| `GET`    | `/users/1` | ID가 1인 사용자 조회   |
| `POST`   | `/users`   | 새 사용자 생성        |
| `PUT`    | `/users/1` | ID 1번 사용자 전체 수정 |
| `PATCH`  | `/users/1` | ID 1번 사용자 일부 수정 |
| `DELETE` | `/users/1` | ID 1번 사용자 삭제    |

### 요약하면
| 용어           | 설명                                         |
| ------------ | ------------------------------------------ |
| **HTTP 요청**  | 클라이언트가 서버에 어떤 데이터를 요청함                     |
| **HTTP 응답**  | 서버가 요청에 대해 응답을 보내줌                         |
| **REST API** | URL + HTTP 메서드 조합으로 자원에 접근하는 방식            |
| **FastAPI**  | 이 REST API를 아주 쉽게 만들 수 있게 해주는 Python 라이브러리 |


## API는 웹에서만 사용하는 개념의 단어가 아니다

### 다양한 API의 종류
| 구분                                          | 설명                                                                         |
| ------------------------------------------- | -------------------------------------------------------------------------- |
| **API (Application Programming Interface)** | 프로그램 간 소통을 위한 **규칙 또는 인터페이스**. 소프트웨어가 다른 소프트웨어를 제어하거나 데이터를 주고받을 수 있게 하는 것. |
| **Web API / HTTP API / REST API**           | API 중 **웹(HTTP)을 기반**으로 동작하는 것. FastAPI, Flask, Express 등이 이에 해당.          |
| **Local API / Internal API**                | 네트워크나 웹이 아닌, **내부 프로그램 간 함수 호출이나 모듈 간 통신**을 위한 API                         |
| **Library API**                             | 예: Python의 `math.sqrt()` 도 하나의 API. 라이브러리 내부 기능을 쓰는 **인터페이스**일 뿐.          |
| **System API**                              | 운영체제가 제공하는 기능을 쓰기 위한 API. 예: Windows API, POSIX API 등                      |
| **IPC (Inter-Process Communication)**       | 서로 다른 프로세스 간의 API 통신. 예: 소켓, 파이프, 공유 메모리 등                                 |

## API는 이런 모든 것을 포괄하는 "개념" <br>API란 '이걸 이렇게 호출하면 이렇게 동작할게!' 라는 일종의 약속임

### 예시
1. 웹 API (외부 공개 API)
클라이언트 → HTTP 요청 → 서버 응답

예: 네이버 날씨 API, 카카오 로그인 API

2. 내부 시스템 API
사내 시스템 A가 시스템 B의 기능을 호출할 때

예: 인사 관리 시스템 → 사번 조회 API → 사내 DB 시스템

3. 프로세스 간 API (네트워크 없이)
예: 파이썬 프로그램이 C로 짠 로직을 ctypes로 호출

4. 운영체제 API
예: CreateFile() (Windows), fork() (Linux)
<br><br>

### 요약
| 질문                           | 답변                                           |
| ------------------------------ | ---------------------------------------------- |
| **API는 웹에서만 쓰는 개념인가?**        | "No" API는 **웹을 포함한 모든 소프트웨어 인터페이스**를 의미 |
| **내부 네트워크에서 서버 간 통신도 API인가?** | "Yes" **프로토콜과 약속에 따라 통신**하면 그것도 API         |
| **Python에서 라이브러리 호출도 API인가?** | "Yes" 라이브러리가 제공하는 함수 인터페이스도 API             |


